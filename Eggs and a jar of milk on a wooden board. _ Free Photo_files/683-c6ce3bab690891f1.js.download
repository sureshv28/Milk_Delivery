!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="4d9f7c72-75ca-4d21-906b-7b026177e9bf",e._sentryDebugIdIdentifier="sentry-dbid-4d9f7c72-75ca-4d21-906b-7b026177e9bf")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[683],{68464:function(e,t,n){n.d(t,{TN:function(){return a},YS:function(){return l},p4:function(){return r},zY:function(){return o}});var r="text-surface-foreground-2 hover:$text-surface-foreground-2 $text-sm $no-underline $font-semibold",o="$flex $justify-between $items-center",a="$font-semibold $text-surface-foreground-2 $leading-normal $mb-15",l="$flex $flex-col $gap-40"},65724:function(e,t,n){n.d(t,{W:function(){return l}});var r=n(49558),o=n(52983),a=n(21455);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"resource_detail_premium",{setShowModal:l,setOrigin:i,setTrackerClick:u,setResourceData:s,setCheckoutQueryParams:c,setModalType:d}=(0,a.u)(),m=(0,o.useMemo)(()=>({category:t,location:n,ACTION:"go_premium",...e&&{resource_id:e}}),[t,n,e]),[f,p]=(0,r.n9)(m);return(0,o.useCallback)(e=>{let{resourceData:t,origin:n,onButtonClick:r=()=>void 0,checkoutQueryParams:o,modalType:a="premiumContent"}=e;i(n),u(()=>p),s(t),c(o),d(a),f(),r(),l(!0)},[i,u,s,c,d,f,l,p])}},80801:function(e,t,n){n.d(t,{P:function(){return u}});var r=n(97458),o=n(770),a=n(96065),l=n(52983),i=n(40197);let u=(0,l.forwardRef)((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("button",{...l,ref:t,className:(0,i.m6)("hover:bg-surface-0/20 absolute right-0 top-[-45px] flex size-[45px] items-center justify-center rounded-sm bg-transparent text-default-foreground-0 xs:text-white lg:right-4 lg:top-5",n),children:(0,r.jsx)(o.J,{as:a.Z})})})},10997:function(e,t,n){n.d(t,{K:function(){return r}});let r=(0,n(52983).createContext)(void 0)},33956:function(e,t,n){n.d(t,{T:function(){return r}});let r=(0,n(52983).createContext)(void 0)},5298:function(e,t,n){n.d(t,{t:function(){return u}});var r=n(97458),o=n(52983),a=n(73459),l=n(10997),i=n(33956);let u=e=>{let{children:t,resourceId:n}=e,[u,s]=(0,o.useState)(!1);(0,a.n)((0,o.useCallback)(()=>{s(!1)},[])),(0,o.useEffect)(()=>{s(!1)},[n]);let c=(0,o.useMemo)(()=>({openPostDownload:()=>s(!0),closePostDownload:()=>s(!1)}),[s]);return(0,r.jsx)(i.T.Provider,{value:u,children:(0,r.jsx)(l.K.Provider,{value:c,children:t})})}},63011:function(e,t,n){n.d(t,{K:function(){return l}});var r=n(97458),o=n(33523),a=n(40197);let l=e=>{let{isLoading:t,children:n,badges:l,className:i,...u}=e;return(0,r.jsxs)("div",{className:(0,a.m6)("relative mx-auto min-h-[300px] max-w-full overflow-hidden transition-all sm:rounded-xl lg:min-h-[400px] 3xl:max-h-[624px]",i),"data-cy":"resource-detail-preview",...u,children:[n,l&&!t&&(0,r.jsx)("div",{className:"absolute left-5 top-5 flex gap-1 sm:rounded-xl",children:l}),t&&(0,r.jsx)(o.O.Rect,{className:"absolute inset-0 h-auto"})]})}},68243:function(e,t,n){n.d(t,{$:function(){return u}});var r=n(97458),o=n(770),a=n(24985),l=n(10893),i=n(92387);let u=()=>{let{t:e}=(0,l.$G)("detail");return(0,r.jsxs)(i.m,{className:"px-4",children:[(0,r.jsx)(o.J,{as:a.Z,size:"sm"}),e("aiGenerated")]})}},92387:function(e,t,n){n.d(t,{m:function(){return a}});var r=n(97458),o=n(40197);let a=e=>{let{children:t,className:n}=e;return(0,r.jsx)("span",{className:(0,o.m6)("flex h-8 items-center justify-center gap-2 rounded-full bg-neutral-900/60 px-2 text-xs font-semibold text-white",n),children:t})}},64437:function(e,t,n){n.d(t,{T:function(){return d}});var r=n(97458),o=n(65122),a=n(770),l=n(9249),i=n(41952),u=n(83273),s=n(10893),c=n(92387);let d=()=>{let{t:e}=(0,s.$G)("common"),t=(0,o.e)();return(0,r.jsxs)(c.m,{className:"aspect-square size-8",children:[!t&&(0,r.jsx)(a.J,{as:u.Z,size:"sm",className:"text-premium-gold-500"}),t&&(0,r.jsx)(a.J,{as:i.Z,size:"sm"}),(0,r.jsx)(l.T,{children:e("premium")})]})}},55201:function(e,t,n){n.d(t,{h:function(){return r},l:function(){return o}});let r="sendToAISuiteEvent",o="/pikaso"},73459:function(e,t,n){n.d(t,{n:function(){return a}});var r=n(52983),o=n(55201);let a=e=>{(0,r.useEffect)(()=>{let t=()=>{e()};return window.addEventListener(o.h,t),()=>{window.removeEventListener(o.h,t)}},[e])}},3676:function(e,t,n){n.d(t,{U:function(){return i}});var r=n(51780),o=n(52983),a=n(73701),l=n(23305);let i=()=>{let e=(0,a.Z)(),{push:t}=(0,r.useRouter)(),n=(0,l.a)();return(0,o.useCallback)(()=>{if(null===n){e();return}t({pathname:n.pathname,query:n.query},n.as,{shallow:!0,scroll:!1}).then(()=>{e()})},[e,n,t])}},21455:function(e,t,n){n.d(t,{u:function(){return a}});var r=n(52983),o=n(26670);let a=()=>{let e=(0,r.useContext)(o.o);if(null===e)throw Error("useModalPricingState must be used within a ModalPricingContext");return e}},33247:function(e,t,n){n.d(t,{R:function(){return c}});var r=n(51780),o=n(52983),a=n(26140);let l={ai:"photo",mockup:"vector",template:"vector"},i={keyword:"tag",collections:"collection",image_search:"search",image_search_similar:"search",user_recommendations_home:"home",popular:"search",recent:"search",family:"author"},u={"/collection":"collection"},s=()=>{let e=(0,a.Q)(),{pathname:t}=(0,r.useRouter)(),n=null==e?void 0:e.fromView;if(n){var o;return null!==(o=i[n])&&void 0!==o?o:n}return u[t]},c=()=>{let e=s();return(0,o.useCallback)(t=>{var n;let{type:r,subtype:o,authorName:a,isPremium:i,isAIGenerated:u,eventName:s,pageType:c,businessLine:d="content",editor:m,tool:f}=t,p=new URLSearchParams;p.set("business_line",d);let b=null!=c?c:e;return b&&p.set("page_type",b),p.set("item_type",null!==(n=l[r])&&void 0!==n?n:r),o&&p.set("item_subtype",o),a&&p.set("item_author",a),m&&p.set("editor",m),f&&p.set("tool",f),p.set("is_premium_item",i.toString()),p.set("is_ai_generated",u.toString()),p.set("event_name",s),p},[e])}},56879:function(e,t,n){n.d(t,{nj:function(){return m},ru:function(){return f}});var r=n(1850);let o=r.z.enum(["photo","vector","psd","icon","template","mockup","ai"]),a=r.z.object({id:r.z.number().int().nullable(),name:r.z.string().nullable(),slug:r.z.string(),avatar:r.z.string(),assets:r.z.number().int()}).transform(e=>{let{id:t,name:n,...r}=e;return{id:t||0,name:n||"",...r}}),l=r.z.object({width:r.z.number(),height:r.z.number()}).extend({url:r.z.string()}),i=r.z.object({slug:r.z.string(),name:r.z.string(),url:r.z.string().optional().nullable()}),u=r.z.array(i).nullable(),s=r.z.object({description:r.z.string().optional().nullable(),term:r.z.string(),original_term_results:r.z.number()}).transform(e=>{let{original_term_results:t,...n}=e;return{originalTermResults:t,...n}});r.z.string().min(4).transform((e,t)=>{try{let t=e.match(/_([^_]+)\.htm/);if(!t)throw Error("ID could not be extracted from code");let n=t[1];return r.z.coerce.number().parse(n)}catch(e){return t.addIssue({code:r.z.ZodIssueCode.custom,message:"ID could not be extracted from code"}),r.z.NEVER}});let c=r.z.object({id:r.z.number(),name:r.z.string(),slug:r.z.string(),url:r.z.string(),premium:r.z.boolean(),new:r.z.boolean(),is_ai_generated:r.z.boolean(),has_prompt:r.z.boolean(),is_editable_in_wepik:r.z.boolean().optional(),is_editable_in_mockup:r.z.boolean().optional().nullable(),type:o,author:a,preview:l,pixel:r.z.string().nullable().optional(),top_search_expressions:u.optional(),prompt:r.z.string().optional().nullable(),eyem_author:r.z.string().optional().nullable(),credit_cost:r.z.number().optional().nullable()}),d=r.z.object({name:r.z.string()}),m=c.transform(e=>{let{has_prompt:t,is_ai_generated:n,is_editable_in_wepik:r,top_search_expressions:o,is_editable_in_mockup:a,credit_cost:l,...i}=e;return{hasPrompt:t,isAIGenerated:n,isEditableInWepik:r||!1,...o&&{topSearchExpressions:o},isEditableInMockup:a||!1,creditCost:null!=l?l:0,...i}}),f=r.z.enum(["jpg","png","svg","psd","ai","eps","atn","zip","fonts","resources","3d-render"]),p=r.z.object({id:r.z.number().optional(),size:r.z.number(),name:r.z.string().optional(),colorspace:r.z.string().optional(),is_remove_bg:r.z.boolean().optional()}).transform(e=>{let{is_remove_bg:t,...n}=e;return{...t&&{isRemoveBg:t},...n}}),b=r.z.object({total:r.z.number(),items:r.z.array(p)});r.z.record(f,b);let g=r.z.object({current_page:r.z.number(),per_page:r.z.number(),last_page:r.z.number(),total:r.z.number()}).transform(e=>{let{last_page:t,current_page:n,per_page:r,...o}=e;return{...o,lastPage:t,currentPage:n,perPage:r}});r.z.object({data:r.z.array(m),meta:r.z.object({pagination:g,related_collections_total:r.z.number(),related_terms:u,tracking_code:r.z.string(),next_search:s.nullable(),tag_description:r.z.string().optional().nullable(),canonical_path:r.z.string().optional().nullable(),redirect_url:r.z.string().optional().nullable(),cross_search:r.z.string().optional().nullable().default(null),user_customization:r.z.boolean().optional().default(!1),term:r.z.string()}).transform(e=>{let{related_terms:t,related_collections_total:n,tracking_code:r,next_search:o,tag_description:a,canonical_path:l,redirect_url:i,cross_search:u,user_customization:s,...c}=e;return{...c,track:r,relatedTags:t,relatedCollectionsTotal:n,nextSearch:o,tagDescription:a,canonicalPath:l,redirectUrl:i,crossSearch:u,userCustomization:s}})}).transform(e=>{let{data:t,meta:n}=e;return{...n,items:t}}),r.z.object({data:d}).transform(e=>{let{data:t}=e;return{...t}})},81612:function(e,t,n){n.d(t,{N:function(){return o}});var r=n(52983);let o=(e,t)=>(0,r.useCallback)(n=>e?{positionRelative:n%e,page:Math.floor(n/e)+(null!=t?t:1)}:{positionRelative:n,page:null!=t?t:1},[e,t])},30143:function(e,t,n){n.d(t,{O5:function(){return u.O},Y4:function(){return r.Y},aZ:function(){return s.a},fb:function(){return o.f},g9:function(){return a.g},mS:function(){return l.m},ug:function(){return c.u},yV:function(){return i.y}});var r=n(15190),o=n(46615),a=n(83196),l=n(53466),i=n(47404),u=n(6715),s=n(61390),c=n(76160)},46615:function(e,t,n){n.d(t,{f:function(){return a}});var r=n(52983),o=n(62573);let a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{fromView:a,position:i,fromElement:u,track:s,uuid:c,query:d}=n,m=(0,o.Q)();return(0,r.useMemo)(()=>{var n;let r=null!==(n=m(e))&&void 0!==n?n:{},o=l(r={...r,...a&&{fromView:a},...i&&{position:i},...s&&{track:s},...u&&{from_element:u},...c&&{uuid:c},...d&&{query:d}});if(0===Object.keys(o).length)return t;let f=new URLSearchParams(o);return"".concat(t,"#").concat(f.toString())},[m,e,a,i,s,u,c,d,t])},l=e=>{if(!e)return{};let t={};for(let n in e)void 0!==e[n]&&null!==e[n]&&(t[n]="".concat(e[n]));return t}},53466:function(e,t,n){n.d(t,{m:function(){return m}});var r=n(72234),o=n(68147),a=n(56106),l=n(25983),i=n(52983),u=n(43077),s=n(33284),c=n(62573);let d=()=>{let e=(0,c.Q)(),t=(0,s.H)();return(0,i.useCallback)(n=>{let r=e(n);return r?{...r,fromView:"thumbnail_".concat(r.fromView),uuid:r.uuid}:{...t}},[e,t])},m=()=>{let e=(0,l.ZK)(),t=(0,o.I)(),n=(0,a.H)(),s=(0,r.Lh)(),c=d();return(0,i.useCallback)(r=>{let{resourceId:o,isResourcePremium:a,resourceType:l,downloadType:i="download",variant:d,fileType:m}=r,{fromView:f,collectionId:p,page:b,position:g,uuid:z}=c(o);u.s.send("download",{language:e,id:"".concat(o),resourcePremium:a?"1":"0",format:f||"detail",resourceType:l,...p&&{collectionId:"".concat(p)},...b&&{page:"".concat(b)},...void 0!==g&&{position:"".concat(g)},...i&&{downloadType:i},...t&&{userid:"".concat(t),userPremium:n?"1":"0"},...z&&{uuid:z},...d&&{variant:d},...m&&{fileType:m},...s&&{wallet_id:s}})},[c,e,t,n,s])}},6715:function(e,t,n){n.d(t,{O:function(){return u}});var r=n(26219),o=n(52983),a=n(5704),l=n(7009);let i={photo:"regular",vector:"regular",ai:"regular",psd:"psd"},u=()=>{let e=(0,a.Jn)("term")||"",t=(0,l.J)();return(0,o.useCallback)((n,o,a)=>{let l="send&event&click-".concat(o).concat(e?"&".concat(e):"","&").concat(n).concat(a?"&".concat(i[a]):"").concat(t);(0,r.O)(l)},[e,t])}},62573:function(e,t,n){n.d(t,{Q:function(){return l}});var r=n(52983),o=n(81612),a=n(26140);let l=()=>{let e=(0,a.Q)(),t=(0,o.N)(null==e?void 0:e.itemsPerPage,null==e?void 0:e.page);return(0,r.useCallback)(n=>{if(!e)return null;let{fromView:r,collectionId:o,page:a,items:l,uuid:i}=e,u=l.findIndex(e=>{let{id:t}=e;return n===t}),{positionRelative:s}=t(u),c=(null==e?void 0:e.itemsPerPage)?Math.floor(u/e.itemsPerPage)+(null!=a?a:1):a;return{fromView:r,...o&&{collectionId:o},...c&&{page:c},...s>-1&&{position:s},...i&&{uuid:i}}},[t,e])}},7009:function(e,t,n){n.d(t,{J:function(){return o}});var r=n(72234);let o=()=>{let e=(0,r.Lh)();return e?"&wallet_id=".concat(e):""}},2983:function(e,t,n){n.d(t,{B:function(){return o}});var r=n(26219);let o=(e,t)=>{if("3d"===e||"font"===e)return;"icon"!==e&&"video"!==e&&(e="regular");let n="send&event&detail&type=".concat(e,"&button_click=").concat(t,"&event_at=").concat(new Date().getTime());(0,r.O)(n)}},90312:function(e,t,n){n.d(t,{e:function(){return a}});var r=n(25983),o=n(50281);let a=()=>{let e=(0,o.A)(),t=(0,r.aw)(),n=(0,r.ZK)();return{signUpUrl:"".concat("es"===n?"https://www.freepik.es/sign-up":"https://www.freepik.com/sign-up","?").concat(t),setLoginCookies:e}}},43186:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(52983);let o=async e=>{let{walletId:t}=e,n=await fetch(t?"/api/user/downloads/limit?walletId=".concat(t):"/api/user/downloads/limit");return n.ok?{success:!0,data:await n.json()}:401===n.status||403===n.status||405===n.status?{success:!1,data:"AUTHENTICATION_ERROR"}:404===n.status?{success:!1,data:"NOT_FOUND"}:{success:!1,data:"UNKNOWN_ERROR"}};var a=n(1850);a.z.object({data:a.z.object({filename:a.z.string(),url:a.z.string(),today_downloads:a.z.number(),download_limit:a.z.number()}).transform(e=>{let{download_limit:t,today_downloads:n,...r}=e;return{todayDownloads:n,downloadLimit:t,...r}})}),a.z.object({data:a.z.object({current:a.z.number(),limit:a.z.number()})}).transform(e=>{let{data:t}=e;return t});var l=n(72234),i=n(28380),u=n(6476);let s=()=>{let e=(0,l.Lh)(),t=(0,u.aj)();return(0,r.useCallback)(async()=>{let{success:n,data:r}=await o({walletId:e});if(!n)throw Error("Error fetching user download info");let a={downloads:(null==r?void 0:r.current)||0,limit:(null==r?void 0:r.limit)||0};return t(a),i.f.update({downloads:a.downloads,limit_downloads:a.limit}),a},[t,e])}},85229:function(e,t,n){n.d(t,{l:function(){return l}});var r=n(7616),o=n(72234);let a=(0,n(24399).cn)(!1),l=()=>{let{isUnpaid:e}=(0,o.RI)(),[t,n]=(0,r.KO)(a);return{isUserWinback:e,isOpenWinbackModal:t,showWinbackModal:()=>n(!0),hideWinbackModal:()=>n(!1)}}}}]);