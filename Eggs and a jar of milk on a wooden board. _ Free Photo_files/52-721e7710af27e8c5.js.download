!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="2a3011dd-6b64-41eb-b3d9-79d7ed31537f",e._sentryDebugIdIdentifier="sentry-dbid-2a3011dd-6b64-41eb-b3d9-79d7ed31537f")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[52,8846],{1557:function(e,t,n){n.d(t,{U:function(){return r}});let r=(0,n(52983).createContext)({})},35117:function(e,t,n){n.d(t,{u:function(){return E}});var r=n(97458),o=n(52983),a=n(23113),c=n(90312),l=n(91394),i=n(25288),s=n(19170),u=n(7616),d=n(45451);let f=()=>(0,o.useCallback)(e=>{let{collectionId:t,collectionName:n,fileId:r,location:o}=e;(0,d.sendGTMEvent)({collection_id:t,collection_name:n,event_name:"add_to_collection",event:"ga4event",file_id:r,location:o})},[]),p=()=>(0,o.useCallback)(e=>{let{location:t,fileId:n}=e;(0,d.sendGTMEvent)({event:"ga4event",event_name:"collect",location:t,file_id:n})},[]);var h=n(49504),m=n(32951),g=n(57577),v=n(94498),w=n(2983),y=n(58058),x=n.n(y),b=n(10893);let j=()=>{let{t:e}=(0,b.$G)("detailCommon");return(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 py-2 text-sm text-surface-foreground-1",children:[(0,r.jsx)("span",{className:"whitespace-nowrap text-sm font-semibold text-surface-foreground-1",children:e("savedSuccessfully")}),(0,r.jsx)(x(),{href:"/user/collections",legacyBehavior:!0,children:(0,r.jsx)("span",{className:"cursor-pointer whitespace-nowrap text-xs font-normal !text-surface-foreground-accent-0",children:e("seeMyCollections")})})]})},k=e=>{let{type:t,id:n,location:d}=e,[y,x]=(0,o.useState)(null),b=(0,o.useRef)(!1),[k,C]=(0,o.useState)(!1),[_,E]=(0,o.useState)(null),I=(0,u.b9)(v.mX),N=f(),P=p(),R=(0,a.a)("smMax"),T=(0,l.d)(),S=(0,i.NL)(),D=(0,h.gx)(),{signUpUrl:L,setLoginCookies:O}=(0,c.e)(),{openToast:M}=(0,s.x_)(),F=(0,o.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!b.current||e)try{e?D():I(!0);let t=await S.fetchQuery((0,h.us)({page:1,resourceId:n}));E(t),b.current=!0}catch(e){console.error("Error fetching collections when opening the popover:",e)}finally{e||I(!1)}},[S,n,I,D]),G=async()=>{if(!T){O(),window.location.href=L;return}(0,w.B)(t,"add_to_collection"),await F(),C(!0),P({location:d,fileId:n})},H=e=>x(t=>[...null!=t?t:[],e]),U=e=>x(t=>{var n;return null!==(n=null==t?void 0:t.filter(t=>t!==e))&&void 0!==n?n:[]}),B=(0,o.useCallback)(async(e,o)=>{try{H(e),await (0,g.R)({id:n,collectionId:e,resourceType:t}),N({fileId:n,collectionId:e,collectionName:o,location:d}),M({message:(0,r.jsx)(j,{}),showIcon:!1,showCloseButton:!1,position:R?"bottom-center":"top-right"}),await F(!0)}catch(e){console.error(e),M()}finally{U(e),R&&C(!1)}},[n,t,N,d,M,R,F]);return{responseCollections:_,collectionIdsLoading:y,isOpen:k,setIsOpen:C,onButtonOpenClick:G,handleAddToCollection:B,handleRemoveFromCollection:(0,o.useCallback)(async e=>{try{H(e),await (0,m.N)({id:n,collectionId:e,resourceType:t}),await F(!0)}catch(e){console.error(e),M()}finally{U(e)}},[n,M,t,F]),handleOpenChange:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];C(e)}}};var C=n(8095),_=n(1557);let E=e=>{let{children:t,id:n,type:a,location:c}=e,{responseCollections:l,collectionIdsLoading:i,isOpen:s,setIsOpen:u,onButtonOpenClick:d,handleOpenChange:f,handleAddToCollection:p,handleRemoveFromCollection:h}=k({type:a,id:n,location:c}),{searchCollections:m,isSearchByApi:g,handleSearch:v}=(0,C.j)(),w=(0,o.useMemo)(()=>({id:n,type:a,searchCollections:m,responseCollections:l,collectionIdsLoading:i,isSearchByApi:g,isOpen:s,setIsOpen:u,handleSearch:v,handleAddToCollection:p,handleRemoveFromCollection:h,onButtonOpenClick:d,handleOpenChange:f}),[n,a,m,l,i,g,s,d,u,p,h,v,f]);return(0,r.jsx)(_.U.Provider,{value:w,children:t})}},88659:function(e,t,n){n.d(t,{r:function(){return a}});var r=n(52983),o=n(1557);let a=()=>(0,r.useContext)(o.U)},8095:function(e,t,n){n.d(t,{j:function(){return i}});var r=n(7616),o=n(52983),a=n(94498),c=n(99);let l=()=>{let{data:e,meta:{pagination:{nextPage:t}}}=(0,r.Dv)(a.HQ);return{collections:e,nextPage:t}},i=()=>{let{collections:e,nextPage:t}=l(),[n,i]=(0,o.useState)([]),s=(0,r.b9)(a.GD),u=(0,o.useRef)();(0,o.useEffect)(()=>{(null==e?void 0:e.length)>0&&i(e.map(c.V))},[e,t]);let d=null!==t,f=t=>{i((null==e?void 0:e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))).map(c.V))},p=async e=>{u.current&&clearTimeout(u.current),u.current=setTimeout(async()=>{s(e)},350)};return{isSearchByApi:d,searchCollections:n,handleSearch:e=>{d?p(e):f(e)}}}},99:function(e,t,n){n.d(t,{V:function(){return r}});let r=e=>{var t,n;return{id:e.id,name:e.name,author:(null===(t=e.author)||void 0===t?void 0:t.name)||void 0,hasResourceInCollection:e.hasResourceInCollection,preview:null===(n=e.previews[0])||void 0===n?void 0:n.url}}},17046:function(e,t,n){n.d(t,{r:function(){return c}});var r=n(72234),o=n(41937),a=n(8147);let c=()=>((0,a.H)(),(0,r.Ht)(),(0,o.I)(),!1)},40308:function(e,t,n){n.d(t,{_:function(){return u}});var r=n(97458),o=n(23113),a=n(53344),c=n.n(a),l=n(35117),i=n(88659);let s=c()(()=>Promise.all([n.e(8454),n.e(7301),n.e(7455)]).then(n.bind(n,44991)).then(e=>e.DetailAddToCollectionModal),{loadableGenerated:{webpack:()=>[44991]},ssr:!1}),u=e=>{let{children:t,id:n,type:o,location:a}=e;return(0,r.jsx)(l.u,{id:n,type:o,location:a,children:(0,r.jsx)(d,{children:t})})},d=e=>{let{children:t}=e,{isOpen:n,handleOpenChange:a}=(0,i.r)(),c=(0,o.a)("smMax");return(0,r.jsxs)(r.Fragment,{children:[t,n&&c&&(0,r.jsx)(s,{onOpenChange:a})]})}},72407:function(e,t,n){n.d(t,{r:function(){return a}});var r=n(52983),o=n(33956);let a=()=>{let e=(0,r.useContext)(o.T);if(void 0===e)throw Error("useIsOpenDetailPostDownload must be used within a DetailPostDownloadContext");return e}},583:function(e,t,n){n.d(t,{Z:function(){return l}});var r=n(29456),o=n(26219),a=n(52983),c=n(7009);let l=e=>{let{resourceId:t,type:n}=e,l=(0,c.J)(),i=(0,r.H)(),s=(0,a.useRef)(!1);(0,a.useEffect)(()=>{if(!i||s.current)return;let e="send&event&detail&onload&".concat(t,"&").concat(n,"&r=").concat(Math.random().toString()).concat(l);(0,o.O)(e),s.current=!0},[t,n,l,i])}},47149:function(e,t,n){n.r(t),n.d(t,{Seo:function(){return p}});var r=n(97458),o=n(45227),a=n(25983),c=n(70727),l=n(16388),i=n.n(l),s=n(52983),u=n(12976);let d=[{rel:"preconnect",href:"https://img.freepik.com"},{rel:"preconnect",href:u.p},{rel:"preconnect",href:"https://static.cdnpk.net"},{rel:"dns-prefetch",href:"https://img.freepik.com"}],f=e=>{let{title:t,description:n,url:r,image:o,hashtags:a=[],type:c}=e;return(0,s.useMemo)(()=>{let e=null!=o?o:{url:"".concat(u.p,"/meta-tags-social/og-freepik-home-en.png?w=1200&h=675"),width:1200,height:675},l="".concat(n).concat(a.length>0?" ".concat(a.map(e=>"#".concat(e)).join(" ")):"");return[{property:"og:title",content:t},{property:"og:description",content:l},{property:"og:type",content:c},{property:"og:url",content:r},{property:"og:image",content:e.url},{property:"og:image:width",content:"".concat(e.width)},{property:"og:image:height",content:"".concat(e.height)},{property:"og:image:alt",content:t},{property:"og:site_name",content:"Freepik"},{property:"fb:admins",content:"1031507953"},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:site",content:"@freepik"},{property:"twitter:creator",content:"@freepik"},{property:"twitter:title",content:t},{property:"twitter:image:src",content:e.url},{property:"twitter:url",content:r},{property:"twitter:description",content:l}]},[o,n,a,t,c,r])},p=e=>{var t;let{title:n,description:l,cdns:u,image:p,alternates:h,noIndex:m=!1,excludeCanonical:g=!1,replaceCanonical:v=[],hashtags:w,forceUrl:y,type:x="article",ogTitle:b,ogDescription:j,onlyNoIndex:k=!1}=e,C=(0,a.ZK)(),_=(0,o.to)({withParams:!1,replacePaths:!0}),E=(0,o.to)({withQuery:!1,withParams:!1,replacePaths:!0}),I=f({title:null!=b?b:n,description:null!=j?j:l,url:null!=y?y:_,image:p,hashtags:w,type:x}),N=(0,s.useMemo)(()=>v.reduce((e,t)=>{let{matcher:n,replace:r}=t;return e.replace(n,r)},E),[E,v]);return(0,r.jsxs)(i(),{children:[(0,r.jsx)("title",{children:n}),l&&(0,r.jsx)("meta",{name:"description",content:l}),I.map(e=>{let{property:t,content:n}=e;return(0,r.jsx)("meta",{property:t,content:n},t)}),d.map(e=>{let{rel:t,href:n,crossOrigin:o}=e;return(0,r.jsx)("link",{rel:t,href:n,crossOrigin:o},"".concat(t,"-").concat(n,"-").concat(o))}),null==u?void 0:u.map(e=>(0,r.jsx)("link",{rel:"dns-prefetch",href:e},e)),(0,r.jsx)("meta",{name:"p:domain_verify",content:"fdda3a988da750af54ad90466dd90119"}),(0,r.jsx)("meta",{name:"facebook-domain-verification",content:"3oh58risl8zubokve93o200pvyihj0"}),(0,r.jsx)("meta",{name:"robots",content:"max-image-preview:large"}),(0,r.jsx)("meta",{name:"lang",content:C}),k&&(0,r.jsx)("meta",{name:"robots",content:"noindex"}),!k&&(m||c.tp.includes(C))&&(0,r.jsx)("meta",{name:"robots",content:"noindex, nofollow, noarchive"}),!g&&(0,r.jsx)("link",{rel:"canonical",href:null!=y?y:N}),null==h?void 0:null===(t=h.langs)||void 0===t?void 0:t.filter(e=>!c.tp.includes(e.lang)).map(e=>{let{href:t,lang:n}=e;return(0,r.jsx)("link",{rel:"alternate",hrefLang:n,href:t},n)}),(null==h?void 0:h.default)&&(0,r.jsx)("link",{rel:"alternate",hrefLang:"x-default",href:null==h?void 0:h.default}),"en"===C&&(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"})]})}},80719:function(e,t,n){n.d(t,{X:function(){return o}});var r=n(63202);let o=e=>{let{page:t,resourceId:n,searchTerm:o,collectionIds:a,ownership:c}=e,l=a?a.join(","):void 0,i={page:"".concat(t),...n&&{resourceId:"".concat(n)},...o&&{"filter[term]":o},...l&&{"filter[ids]":l},...c&&{"filter[ownership]":c}},s="/api/user/collections?".concat(new URLSearchParams(i));return(0,r.c)(s,"GET")}},49504:function(e,t,n){n.d(t,{gx:function(){return p},lL:function(){return f},us:function(){return d}});var r=n(59077),o=n(78511),a=n(25288),c=n(7616),l=n(52983),i=n(80719),s=n(94498);let u=["collections","all"],d=e=>{let{page:t,searchTerm:n,resourceId:o}=e;return(0,r.C)({queryKey:[...u,{page:t,resourceId:o,searchTerm:n}],queryFn:async()=>{let{data:e,success:r}=await (0,i.X)({page:t,resourceId:o,searchTerm:n});if(!r)throw Error(e);return e}})},f=e=>{let{page:t=1,resourceId:n}=e,r=(0,c.Dv)(s.GD);return(0,o.a)(d({page:t,searchTerm:r,resourceId:null!=n?n:null}))},p=()=>{let e=(0,a.NL)();return(0,l.useCallback)(()=>{e.invalidateQueries({queryKey:u})},[e])}},32951:function(e,t,n){n.d(t,{N:function(){return o}});var r=n(63202);let o=async e=>{let{id:t,collectionId:n,resourceType:o}=e,a=new URLSearchParams;return a.append("collectionId",n.toString()),a.set("resourceType",o),await (0,r.c)("/api/user/resources/".concat(t,"/collections?").concat(a.toString()),"DELETE")}},57577:function(e,t,n){n.d(t,{R:function(){return o}});var r=n(63202);let o=async e=>{let{id:t,collectionId:n,resourceType:o}=e;return await (0,r.c)("/api/user/resources/".concat(t,"/collections"),"POST",{collectionId:n,resourceType:o})}},94498:function(e,t,n){n.d(t,{GD:function(){return o},HQ:function(){return a},mX:function(){return l},w0:function(){return c}});var r=n(24399);let o=(0,n(73139).rw)(null),a=(0,r.cn)({data:[],meta:{pagination:{nextPage:null,perPage:0,prevPage:null,currentPage:0}}}),c=(0,r.cn)([]),l=(0,r.cn)(!1)},18547:function(e,t,n){n.d(t,{$:function(){return l},a:function(){return c}});var r=n(12297),o=n(24399),a=n(73139);let c=(0,a.xu)(e=>{let{locale:t,id:n}=e;return(0,a.n7)((0,o.cn)(async()=>{if(null===n)return null;let e=await fetch("/api/resources/".concat(n,"?locale=").concat(t));if(!e.ok)throw Error("Failed to fetch regular resource ".concat(n));return await e.json()}))},r.vZ),l=(0,o.cn)(!1)},40409:function(e,t,n){n.d(t,{t:function(){return r}});let r=(0,n(52983).createContext)(null)},26140:function(e,t,n){n.d(t,{Q:function(){return a}});var r=n(52983),o=n(40409);let a=()=>(0,r.useContext)(o.t)},63202:function(e,t,n){n.d(t,{c:function(){return r}});let r=async(e,t,n,r)=>{let o=r?new Headers:void 0;return(null==r?void 0:r.locale)&&o&&o.set("accept-language",r.locale),(null==r?void 0:r.cache)&&o&&o.set("cache",r.cache),fetch(e,{method:t,...n&&{body:JSON.stringify(n)},...r&&{...r,headers:o}}).then(async e=>e.ok?{success:!0,data:204===e.status?null:await e.json()}:400===e.status?{success:!1,data:e.statusText}:401===e.status||405===e.status?{success:!1,data:"AUTHENTICATION_ERROR"}:403===e.status?{success:!1,data:"FORBIDDEN"}:500===e.status?{success:!1,data:"INTERNAL_SERVER_ERROR"}:404===e.status?{success:!1,data:"NOT_FOUND"}:429===e.status?{success:!1,data:"TOO_MANY_REQUESTS"}:{success:!1,data:await e.json()})}},41952:function(e,t,n){var r=n(97458);t.Z=e=>(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 512 512","aria-hidden":!0,...e,children:(0,r.jsx)("path",{d:"M504.688 344.692 345.092 504.688c-4.9 4.899-11.3 7.399-17.7 7.399s-12.8-2.4-17.6-7.299L209.695 403.99c-9.8-9.7-9.8-25.599-.1-35.399s25.599-9.8 35.399-.1l82.398 83.098 141.896-142.297c9.8-9.799 25.6-9.799 35.4-.1 9.699 9.9 9.799 25.7 0 35.5m-330.492 94.497c-29.1-29.199-29.2-76.598-.1-105.897 29.199-29.299 76.798-29.399 106.097-.2l.2.2 46.999 47.399 106.397-106.698c8-8.1 17.6-14.099 28.1-17.799V64.998c0-10.3-5.9-19.5-14.8-23.199-9-3.8-19.2-1.3-25.799 6.2l-91.998 125.597L251.194 12.3c-4.2-7.6-11.8-12.3-20.2-12.3s-16.099 4.7-20.199 12.3l-78.198 160.696L40.599 47.899c-6.6-7.5-16.8-10-25.8-6.2C5.9 45.399 0 54.599 0 64.899V389.79c0 39.899 32.3 72.199 72.198 72.199h124.697z"})})},45227:function(e,t,n){n.d(t,{Bw:function(){return r.B},sj:function(){return a.s},to:function(){return o.t}});var r=n(4139),o=n(55287),a=n(62030)},62030:function(e,t,n){n.d(t,{s:function(){return a}});var r=n(10893);let o=(e,t)=>{let n=e.toLocaleLowerCase();return n.startsWith("fr")||n.startsWith("sv")||n.startsWith("da")||n.startsWith("fi")||n.startsWith("no")?"".concat(t," %"):n.startsWith("tr")?"%".concat(t):"".concat(t,"%")},a=()=>{let{i18n:e}=(0,r.$G)(),t=e.language;return{onFormat:function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n?Number.parseFloat(e.toFixed(2)).toString():e.toFixed(0);return t?o(t,r):"".concat(r,"%")}}}},11645:function(e,t,n){n.d(t,{u:function(){return a}});var r=n(52983),o=n(8147);let a=()=>{let e=(0,o.H)();return(0,r.useCallback)(t=>{if(!e)return!0;try{let n=e.disabledPermissionsTools;if(!n)return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:"Disabled permissions tools not found"})),!0;return!(t in n)}catch(n){return console.error(JSON.stringify({fatal_error:"Error checking tool permission for ".concat(t," from wallet ").concat(e.walletId),error:n})),!0}},[e])}},41937:function(e,t,n){n.d(t,{I:function(){return o}});var r=n(8147);let o=()=>{let e=(0,r.H)();return!e||!!(null==e?void 0:e.profile.isAnonymous)}},11924:function(e,t,n){n.d(t,{N:function(){return s}});var r=n(52983),o=n(91394),a=n(94891),c=n(50833),l=n(65629),i=n(21212);let s=()=>{let e=(0,o.d)(),t=(0,r.useCallback)(async e=>{let t=[...(0,c.zP)(a.yP),e];t.length>=a.p0?(await (0,l.J)(t)).success&&(0,c.dV)(a.yP):(0,c.rl)(a.yP,t)},[]);return{handleLog:(0,r.useCallback)(async n=>{if(!e)return;let r=i.Wv.safeParse(n);r.success&&await t(r.data)},[t,e])}}},59077:function(e,t,n){n.d(t,{C:function(){return r}});function r(e){return e}}}]);